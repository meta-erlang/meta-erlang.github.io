"use strict";(self.webpackChunkmeta_erlang_github_io=self.webpackChunkmeta_erlang_github_io||[]).push([[2736],{5788:(e,n,a)=>{a.d(n,{Iu:()=>p,yg:()=>u});var t=a(1504);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function l(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=t.createContext({}),c=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},p=function(e){var n=c(e.components);return t.createElement(s.Provider,{value:n},e.children)},m="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(a),d=r,u=m["".concat(s,".").concat(d)]||m[d]||g[d]||i;return a?t.createElement(u,o(o({ref:n},p),{},{components:a})):t.createElement(u,o({ref:n},p))}));function u(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[m]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=a[c];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},2052:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var t=a(5072),r=(a(1504),a(5788));const i={sidebar_position:5.1,sidebar_label:"Axon",sidebar_class_name:"green",description:"Using meta-erlang to build a distro made with YP/OE."},o="Axon distro",l={unversionedId:"distro/guides-axon-layer",id:"version-nanbield/distro/guides-axon-layer",title:"Axon distro",description:"Using meta-erlang to build a distro made with YP/OE.",source:"@site/versioned_docs/version-nanbield/distro/guides-axon-layer.md",sourceDirName:"distro",slug:"/distro/guides-axon-layer",permalink:"/docs/nanbield/distro/guides-axon-layer",draft:!1,editUrl:"https://github.com/meta-erlang/meta-erlang.github.io/tree/master/versioned_docs/version-nanbield/distro/guides-axon-layer.md",tags:[],version:"nanbield",sidebarPosition:5.1,frontMatter:{sidebar_position:5.1,sidebar_label:"Axon",sidebar_class_name:"green",description:"Using meta-erlang to build a distro made with YP/OE."},sidebar:"tutorialSidebar",previous:{title:"Distro",permalink:"/docs/nanbield/category/distro"},next:{title:"Contributing",permalink:"/docs/nanbield/category/contributing"}},s={},c=[],p={toc:c},m="wrapper";function g(e){let{components:n,...i}=e;return(0,r.yg)(m,(0,t.c)({},p,i,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"axon-distro"},"Axon distro"),(0,r.yg)("p",null,"In this guide we are going to use a layer called\n",(0,r.yg)("a",{parentName:"p",href:"https://github.com/joaohf/meta-axon"},"meta-axon")," to hold:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"the\n",(0,r.yg)("a",{parentName:"li",href:"https://github.com/joaohf/meta-axon/blob/master/recipes-extended/axon/axon_git.bb"},"axon"),"\nrecipe application"),(0,r.yg)("li",{parentName:"ul"},"the\n",(0,r.yg)("a",{parentName:"li",href:"https://github.com/joaohf/meta-axon/blob/master/recipes-extended/axon/axon-scenic_git.bb"},"axon scenic"),"\nrecipe application"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/joaohf/meta-axon/blob/master/recipes-extended/image/axon-image-minimal.bb"},"axon-image-minimal"),",\na basic image to run axon application"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/joaohf/meta-axon/blob/master/recipes-graphics/images/axon-image-x11.bb"},"axon-image-x11"),",\na basic image with x11 to run axon scenic demo application"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/joaohf/meta-axon/blob/master/recipes-extended/image/axon-embedded-image-minimal.bb"},"axon-embedded-image-minimal"),",\na very basic image with axon application and erlang embedded init script\npackage group, with ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/nerves-project/erlinit"},"erlinit")," as\nreplacement for '/sbin/init'")),(0,r.yg)("p",null,"The idea is to show two examples about how to run erlang and elixir\napplications. However this layer is just to demonstration purposes."),(0,r.yg)("p",null,"In order to test the axon layer and build images, the first step is clone the\nlayer repository:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"cd $HOME\ngit clone https://github.com/joaohf/meta-axon.git\n")),(0,r.yg)("p",null,"Then, go to the previous build environment directory and add meta-axon to\n'conf/bblayers.conf':"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"bitbake-layers add-layer $HOME/meta-axon\n")),(0,r.yg)("p",null,"Now its time to build the images and runqemu to check the results:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Emebedded erlang application:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"bitbake axon-image-minimal\nrunqemu axon-image-minimal\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Embedded elixir application with scenic:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"bitbake axon-image-x11\nrunqemu axon-image-x11\n")),(0,r.yg)("p",null,"The follow screenshot shows a qemu session running axon scenic application:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"scenic inside qemu",src:a(8076).c,width:"960",height:"723"})))}g.isMDXComponent=!0},8076:(e,n,a)=>{a.d(n,{c:()=>t});const t=a.p+"assets/images/axon_scenic_qemu-d9fd59901f8c28b8a5e325fe68a6934c.png"}}]);