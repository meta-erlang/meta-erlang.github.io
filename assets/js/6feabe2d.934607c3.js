"use strict";(self.webpackChunkmeta_erlang_github_io=self.webpackChunkmeta_erlang_github_io||[]).push([[8632],{5788:(e,t,o)=>{o.d(t,{Iu:()=>p,yg:()=>v});var n=o(1504);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)o=l[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)o=l[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),m=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},p=function(e){var t=m(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},b=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=m(o),b=r,v=c["".concat(s,".").concat(b)]||c[b]||u[b]||l;return o?n.createElement(v,a(a({ref:t},p),{},{components:o})):n.createElement(v,a({ref:t},p))}));function v(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=o.length,a=new Array(l);a[0]=b;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,a[1]=i;for(var m=2;m<l;m++)a[m]=o[m];return n.createElement.apply(null,a)}return n.createElement.apply(null,o)}b.displayName="MDXCreateElement"},7632:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>m});var n=o(5072),r=(o(1504),o(5788));const l={title:"livebook server",authors:["joaohf"],tags:["meta-erlang","livebook"]},a=void 0,i={permalink:"/blog/2024/04/28/index",editUrl:"https://github.com/meta-erlang/meta-erlang.github.io/tree/master/blog/2024-04-28/index.md",source:"@site/blog/2024-04-28/index.md",title:"livebook server",description:"Intro",date:"2024-04-28T00:00:00.000Z",formattedDate:"April 28, 2024",tags:[{label:"meta-erlang",permalink:"/blog/tags/meta-erlang"},{label:"livebook",permalink:"/blog/tags/livebook"}],readingTime:1.28,hasTruncateMarker:!1,authors:[{name:"Jo\xe3o Henrique Ferreira de Freitas",title:"Maintainer of meta-erlang",url:"https://github.com/joaohf",imageURL:"https://github.com/joaohf.png",key:"joaohf"}],frontMatter:{title:"livebook server",authors:["joaohf"],tags:["meta-erlang","livebook"]},prevItem:{title:"New Erlang releases 27.0",permalink:"/blog/2024/05/31/index"},nextItem:{title:"New Erlang releases 24.3.4.17, 25.3.2.12, 26.2.5, 27.0-rc3",permalink:"/blog/2024/04/21/index"}},s={authorsImageUrls:[void 0]},m=[{value:"Intro",id:"intro",level:2},{value:"livebook as a Linux systemd service",id:"livebook-as-a-linux-systemd-service",level:3}],p={toc:m},c="wrapper";function u(e){let{components:t,...o}=e;return(0,r.yg)(c,(0,n.c)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"intro"},"Intro"),(0,r.yg)("p",null,"From ",(0,r.yg)("a",{parentName:"p",href:"https://livebook.dev"},"livebook.dev")," website:"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"Automate code & data workflows with interactive notebooks.")),(0,r.yg)("p",null,"Livebook is getting famous for modern notebooks. It helps a lot for several\ntasks and to solve issues where documentation and code have to walk together."),(0,r.yg)("p",null,"Live book has been added to the standard beamtools SDK. That is very handy\nbecause one can start livebook quickly and it will work with all SDK tools. That\nmeans, we don't need to install anything else. It's all integrated."),(0,r.yg)("p",null,"If one more tool is needed, it's just a matter of including it into SDK and it\nwill be ready to use."),(0,r.yg)("p",null,"The following section is a step by step in order to install livebook in any\nmodern Linux server."),(0,r.yg)("h3",{id:"livebook-as-a-linux-systemd-service"},"livebook as a Linux systemd service"),(0,r.yg)("p",null,"All commands as sudo:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"wget -O /tmp/x86_64-beamtools-nativesdk-standalone-5.0.2-erlang-27.0-elixir-1.17.1.sh https://github.com/meta-erlang/meta-erlang/releases/download/beamtools-0.9.1/x86_64-beamtools-nativesdk-standalone-5.0.2-erlang-27.0-elixir-1.17.1.sh\n\nchmod +x /tmp/x86_64-beamtools-nativesdk-standalone-5.0.2-erlang-27.0-elixir-1.17.1.sh\n\nadduser --group livebook livebook\nmkdir /home/livebook/sdk\n\n/tmp/x86_64-beamtools-nativesdk-standalone-5.0.2-erlang-27.0-elixir-1.17.1.sh -y -d /home/livebook/sdk/5.0.2\n\nchown -R livebook:livebook /home/livebook/sdk/5.0.2\n")),(0,r.yg)("p",null,"Create a file at /etc/livebook/livebook.conf with permission livebook:livebook\nand the following configuration:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"LIVEBOOK_DEFAULT_RUNTIME=standalone\nLIVEBOOK_IP=0.0.0.0\nLIVEBOOK_PORT=8080\nLIVEBOOK_PASSWORD=livebook-instance\nLIVEBOOK_HOME=/home/livebook\n")),(0,r.yg)("p",null,"Create a systemd service file at /lib/systemd/system/livebook.service with the\nfollowing:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"[Unit]\nDescription=Livebook\n\n[Service]\nType=simple\nUser=livebook\nGroup=livebook\nEnvironment=SHELL=/bin/sh\nEnvironment=HOME=/home/livebook\nEnvironmentFile=/etc/livebook/livebook.conf\nWorkingDirectory=/home/livebook\nExecStart=/home/livebook/livebook.sh start\nExecStop=/home/livebook/livebook.sh stop\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n")),(0,r.yg)("p",null,"Create a file /home/livebook/livebook.sh, change permission to\nlivebook:livebook."),(0,r.yg)("p",null,"With the following contents:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"#!/bin/bash\n\n# Load SDK environment\nsource /home/livebook/sdk/5.0.2/environment-setup-x86_64-pokysdk-linux\n\n# Start/Stop livebook\nlivebook $@\n")),(0,r.yg)("p",null,"In order to start and stop livebook, it's all about systemctl commands:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"start: ",(0,r.yg)("inlineCode",{parentName:"li"},"systemctl start livebook")),(0,r.yg)("li",{parentName:"ul"},"stop: ",(0,r.yg)("inlineCode",{parentName:"li"},"systemctl stop livebook")),(0,r.yg)("li",{parentName:"ul"},"check status: ",(0,r.yg)("inlineCode",{parentName:"li"},"systemctl status livebook"))))}u.isMDXComponent=!0}}]);