<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Running Erlang/OTP test suite on target with ptest | meta-erlang</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://meta-erlang.github.io/blog/2024/10/12/index/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="erlang, elixir, yocto"><meta data-rh="true" property="og:title" content="Running Erlang/OTP test suite on target with ptest | meta-erlang"><meta data-rh="true" name="description" content="ptest (package test) means packaging and installing runtime tests that are"><meta data-rh="true" property="og:description" content="ptest (package test) means packaging and installing runtime tests that are"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-10-12T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/joaohf"><meta data-rh="true" property="article:tag" content="meta-erlang"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://meta-erlang.github.io/blog/2024/10/12/index/"><link data-rh="true" rel="alternate" href="https://meta-erlang.github.io/blog/2024/10/12/index/" hreflang="en"><link data-rh="true" rel="alternate" href="https://meta-erlang.github.io/blog/2024/10/12/index/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://meta-erlang.github.io/blog/2024/10/12/index","mainEntityOfPage":"https://meta-erlang.github.io/blog/2024/10/12/index","url":"https://meta-erlang.github.io/blog/2024/10/12/index","headline":"Running Erlang/OTP test suite on target with ptest","name":"Running Erlang/OTP test suite on target with ptest","description":"ptest (package test) means packaging and installing runtime tests that are","datePublished":"2024-10-12T00:00:00.000Z","author":{"@type":"Person","name":"Jo√£o Henrique Ferreira de Freitas","description":"Maintainer of meta-erlang","url":"https://github.com/joaohf","image":"https://github.com/joaohf.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://meta-erlang.github.io/blog","name":"meta-erlang news"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="meta-erlang RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="meta-erlang Atom Feed"><link rel="stylesheet" href="/assets/css/styles.5fa5e897.css">
<script src="/assets/js/runtime~main.1f67d5fc.js" defer="defer"></script>
<script src="/assets/js/main.f912b5f8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">meta-erlang</b></a><a class="navbar__item navbar__link" href="/beamtools/intro/">BEAM Tools</a><a class="navbar__item navbar__link" href="/docs/scarthgap/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/community/support/">Community</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/scarthgap/">scarthgap</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/master/">master</a></li><li><a class="dropdown__link" href="/docs/nanbield/">nanbield</a></li><li><a class="dropdown__link" href="/docs/kirkstone0/">kirkstone</a></li><li><a class="dropdown__link" href="/docs/scarthgap/">scarthgap</a></li></ul></div><a href="https://github.com/meta-erlang/meta-erlang" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/09/25/index/">beamruntime</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/07/27/index/">Erlang-Red, recipe introduction</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/05/11/index/">autotools as build tool for Erlang/OTP projects</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/04/19/index/">New Erlang releases 25.3.2.20, 26.2.5.11, 27.3.3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/03/21/index/">fwup for A/B image upgrades on raspberrypi machines with NervesCloud, part I</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/01/26/index/">fwup for A/B image upgrades on QEMU machines with NervesCloud, part III</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/12/20/index/">fwup for A/B image upgrades on QEMU machines with fwup, part II</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/11/03/index/">Introducing Gleam to meta-erlang layer</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2024/10/12/index/">Running Erlang/OTP test suite on target with ptest</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/10/06/index/">Anatomy of erlang and elixir packages for YP/OE</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/09/24/index/">fwup for A/B image upgrades, part I</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/31/index/">New Erlang releases 27.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/04/28/index/">livebook server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/04/21/index/">New Erlang releases 24.3.4.17, 25.3.2.12, 26.2.5, 27.0-rc3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/03/17/index/">New Erlang releases 24.3.4.16, 25.3.2.10, 26.2.3</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/12/25/index/">New Erlang releases 24.3.4.15, 25.3.2.8, 26.2.1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/11/02/index/">meta-erlang meets atomvm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/09/02/index/">Exploring x32 psABI for Erlang/OTP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/01/index/">New Erlang releases 24.3.4.13, 25.3.2.3, 26.0.2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/06/09/index/">New meta-erlang branch mickledore</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/05/07/index/">New Erlang releases 24.3.4.11, 25.3.2 and recipe updates</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/02/04/index/">meta-erlang on cloud II: building your own application</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/29/index/">meta-erlang on cloud I: EWAOL based</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/22/index/">New Erlang releases 24.3.4.8, 25.1.2.1, 25.2.1</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome/">Welcome</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Running Erlang/OTP test suite on target with ptest</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-10-12T00:00:00.000Z">October 12, 2024</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/joaohf" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/joaohf.png" alt="Jo√£o Henrique Ferreira de Freitas"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/joaohf" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Jo√£o Henrique Ferreira de Freitas</span></a></div><small class="authorTitle_nd0D" title="Maintainer of meta-erlang">Maintainer of meta-erlang</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>ptest (package test) means packaging and installing runtime tests that are
included in many upstream packages. At the end of the day it runs Erlang/OTP
cross compiled test suite on the target hardware. The aim is to detect a range
of problems when running test suites on different combinations of architecture
processors and libc.</p>
<p>The Erlang/OTP howto about
<a href="https://github.com/erlang/otp/blob/master/HOWTO/TESTING.md" target="_blank" rel="noopener noreferrer">TESTING.md</a>
explains most of the details when running tests. While the Yocto&#x27;s documentation
about
<a href="https://docs.yoctoproject.org/dev-manual/packages.html#testing-packages-with-ptest" target="_blank" rel="noopener noreferrer">Testing Packages With ptest</a>
explains the ptest configuration.</p>
<p>So, this post is about how to run those tests using ptest approach on Yocto
builds.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-ptest-work-">How does ptest work ?<a href="#how-does-ptest-work-" class="hash-link" aria-label="Direct link to How does ptest work ?" title="Direct link to How does ptest work ?">‚Äã</a></h2>
<p>Recipes with ptest enabled includes a shell script called <em>run-ptest</em> with the
steps necessary to start the test suite provided by the target software (e.g.:
Erlang/OTP).</p>
<p>The run-ptest script is responsible for starting the test suite and
consolidating the test results into a single format. The format is the
<a href="https://www.gnu.org/software/automake/manual/automake.html#Simple-Tests" target="_blank" rel="noopener noreferrer">automake simple test</a>
format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">result: testName</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Where: <em>result</em> is one of PASS, FAIL or SKIP and <em>testName</em> can be anything.</p>
<p>The erlang recipe from meta-erlang layer supports ptest. And, when activated,
the package erlang-ptest is installed into the final image. It has the erlang
test suite cross compiled and ready to be executed.</p>
<p>When ptest for erlang recipe gets executed, it finishes the erlang test suite
configuration and starts to run each test configured in run-ptest script.</p>
<p>The Erlang/OTP requires several hours to finish. Because of that, ptest for
erlang just executes a small set of all tests available (currently only
<em>emulator</em> and <em>kernel</em> tests are enabled).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>To get a better idea about how to run Erlang/OTP test suites the documentation
<a href="https://github.com/erlang/otp/blob/master/HOWTO/TESTING.md" target="_blank" rel="noopener noreferrer">TESTING.md</a>,
specially the session Running the tests.</p></div></div>
<p>The erlang-ptest package installs the test suite and also the run-ptest script
at <em>/usr/lib/erlang/ptest</em> folder.</p>
<p>One point very important is that Erlang/OTP test suites need some tools
installed into the target image in order to execute some tests. For example, to
run emulator and kernel tests the target OS needs tmux and openssh packages.
However the erlang recipe takes care of these details.</p>
<p>Each test suite might require additional packages. As there is no documentation
describing all the requirements the best strategy is to inspect the test suite
for each Erlang/OTP application
(<a href="https://github.com/erlang/otp/tree/master/lib" target="_blank" rel="noopener noreferrer">lib/*/test</a> and
<a href="https://github.com/erlang/otp/tree/master/erts/test" target="_blank" rel="noopener noreferrer">erts/test</a> folders).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-erlangotp-ptest">Running Erlang/OTP ptest<a href="#running-erlangotp-ptest" class="hash-link" aria-label="Direct link to Running Erlang/OTP ptest" title="Direct link to Running Erlang/OTP ptest">‚Äã</a></h2>
<p>Yocto provides some configuration when enabling ptest. As it is only relevant
for testing purposes.</p>
<p>A specific image feature exists that enables ptest. So, in the local.conf
configuration file:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ptest image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXTRA_IMAGE_FEATURES += &quot;ptest-pkgs&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is all that is necessary to do in order to enable ptest build.</p>
<p>As we want to install erlang in the final image, we also need to add it to the
final image. On build/local.conf configuration file:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># installing erlang and elixir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IMAGE_INSTALL:append:pn-core-image-minimal = &quot; erlang erlang-modules-dev elixir elixir-modules-dev links&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <em>links</em> package here is necessary to open HTML common test reports from
console.</p></div></div>
<p>It&#x27;s ready to build the core-image-minimal image:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bitbake core-image-minimal</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And, for testing purposes, run the generated image using qemu emulator:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">runqemu slirp kvm nographic serialstdio core-image-minimal</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Logging into the running system and execute ptest for erlang:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Poky (Yocto Project Reference Distro) 5.1 qemux86-64 ttyS0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qemux86-64 login: root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WARNING: Poky is a reference Yocto Project distribution that should be used for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">testing and development purposes only. It is recommended that you create your</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">own distribution for production use.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@qemux86-64:~# ptest-run erlang</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The script /usr/lib/erlang/ptest/run-ptest starts execute controlled by the
application called <a href="https://git.yoctoproject.org/ptest-runner2/" target="_blank" rel="noopener noreferrer">ptest runner</a>.
After several hours we get the following results:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">START: ptest-runner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-10-14T17:15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BEGIN: /usr/lib/erlang/ptest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL: emulator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... lots of console messages ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL: kernel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... lots of console messages ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=== common test Summary ===</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Testing tests.emulator_test: TEST COMPLETE, 2112 ok, 4 failed, 82 skipped of 2198 test cases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Testing tests.kernel_test: TEST COMPLETE, 1338 ok, 20 failed, 293 skipped of 1651 test cases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=== Test Summary ===</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TOTAL: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASSED: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAILED: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DURATION: 5822</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">END: /usr/lib/erlang/ptest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-10-14T01:39</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STOP: ptest-runner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TOTAL: 1 FAIL: 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Well, we got 4 fails for emulator tests and 20 fails for kernel tests. Not bad,
but I don&#x27;t know if it is also good.</p>
<p>For further inspection, it&#x27;s possible to also check output messages for each
test. The run-ptest script writes a specific log console for each test executed:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@qemux86-64:~# ls /usr/lib/erlang/ptest/ -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total 14680</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r--  1 root root   236964 Oct 14 00:40 erlang_ptest_emulator_20241014-000215.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r--  1 root root 14770546 Oct 14 01:39 erlang_ptest_kernel_20241014-004016.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rwxr-xr-x  1 root root      807 Oct 14 00:01 run-ptest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x 39 root root     4096 Apr  5  2011 tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As usual when running common tests (remember Erlang/OTP test suites are just
common tests), the HTML reports were written at
<em>/usr/lib/erlang/ptest/tests/test_server/index.html</em>. Opening it with links
command to check the results:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">links /usr/lib/erlang/ptest/tests/test_server/index.html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ptest produces a lot of data to inspect.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-elixir-ptest">Running Elixir ptest<a href="#running-elixir-ptest" class="hash-link" aria-label="Direct link to Running Elixir ptest" title="Direct link to Running Elixir ptest">‚Äã</a></h2>
<p>The steps for running elixir ptest are almost the same for erlang. We just call
ptest-run with the argument elixir:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@qemux86-64:~# ptest-run elixir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The above command runs elixir ptest and reports some results:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">START: ptest-runner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-10-18T02:27</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BEGIN: /usr/lib/elixir/ptest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASS: erlang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL: stdlib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASS: ex_unit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL: logger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASS: eex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL: mix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL: iex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=== Test Summary ===</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TOTAL: 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASSED: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAILED: 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DURATION: 148</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">END: /usr/lib/elixir/ptest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2024-10-18T02:30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STOP: ptest-runner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TOTAL: 1 FAIL: 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For further inspection, it&#x27;s possible to also check output messages for each
test. The run-ptest script writes a specific log console for each test executed:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@qemux86-64:~# ls /usr/lib/elixir/ptest/ -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total 64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x 6 root root  4096 Apr  5  2011 elixir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root   840 Oct 18 02:28 elixir_ptest_eex_20241018-022812.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root   323 Oct 18 02:27 elixir_ptest_erlang_20241018-022744.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root  1156 Oct 18 02:28 elixir_ptest_ex_unit_20241018-022806.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root  4230 Oct 18 02:30 elixir_ptest_iex_20241018-023005.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root  2648 Oct 18 02:28 elixir_ptest_logger_20241018-022810.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 11243 Oct 18 02:30 elixir_ptest_mix_20241018-022814.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 16895 Oct 18 02:28 elixir_ptest_stdlib_20241018-022745.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rwxr-xr-x 1 root root   950 Oct 18 02:27 run-ptest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, ptest produces a lot of data to inspect.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-running-ptest-for-erlangotp-on-yocto-builds-is-important-">Why running ptest for Erlang/OTP on Yocto builds is important ?<a href="#why-running-ptest-for-erlangotp-on-yocto-builds-is-important-" class="hash-link" aria-label="Direct link to Why running ptest for Erlang/OTP on Yocto builds is important ?" title="Direct link to Why running ptest for Erlang/OTP on Yocto builds is important ?">‚Äã</a></h2>
<p>Now that we know what is ptest. Given the following question:</p>
<blockquote>
<p>How do we know that a cross compiled Erlang/OTP build really works on the
target hardware ?</p>
</blockquote>
<p>The answer could be: testing it using tests provided by Erlang/OTP source code.</p>
<p>So, ptest is great for detecting problems.</p>
<p>As ptest has the ability of running Erlang/OTP test suites on the final image
and reporting the results, we can get a baseline when comparing tests executed
on different combinations of processor architectures and C standard libraries
(libc) or any other aspect like different linux kernel versions. It&#x27;s possible
to detect regressions or find weak spots not covered by tests in a specific
platform.</p>
<p>Also, the mechanism of executing those tests is simple. The user does not need
to be an Erlang expert to check that something is not ok on some platform.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/meta-erlang/">meta-erlang</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/meta-erlang/meta-erlang.github.io/tree/master/blog/2024-10-12/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2024/11/03/index/"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Introducing Gleam to meta-erlang layer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/10/06/index/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Anatomy of erlang and elixir packages for YP/OE</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-does-ptest-work-" class="table-of-contents__link toc-highlight">How does ptest work ?</a></li><li><a href="#running-erlangotp-ptest" class="table-of-contents__link toc-highlight">Running Erlang/OTP ptest</a></li><li><a href="#running-elixir-ptest" class="table-of-contents__link toc-highlight">Running Elixir ptest</a></li><li><a href="#why-running-ptest-for-erlangotp-on-yocto-builds-is-important-" class="table-of-contents__link toc-highlight">Why running ptest for Erlang/OTP on Yocto builds is important ?</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://erlangforums.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Erlang Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://elixirforum.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elixir Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://erlef.org/wg/embedded" target="_blank" rel="noopener noreferrer" class="footer__link-item">EEF Embedded Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community/support/">Help</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/meta-erlang/meta-erlang" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2024-2025 meta-erlang</div></div></div></footer></div>
</body>
</html>